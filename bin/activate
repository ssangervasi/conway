#!/bin/bash

build() {
  stack build $@
}

run() {
  build && stack exec conway-exe -- $@
}

console() {
  stack ghci
}

# Plugin for my dev-tools 

run_spec_command() {
  local pattern="$1"
  local test_arguments
  if [[ -n "$pattern" ]]; then
    test_arguments="-m $pattern"
  fi
  stack test --test-arguments "$test_arguments"
}

run_lint_command() {
  local paths="$1"
  local hlint_arguments="."
  if [[ -n "$paths" ]]; then
    hlint_arguments="$paths"
  fi
  hlint "$hlint_arguments"
}

conway_prompt() {
  export PS1="ðŸ”³ $PS1"
}

conway_prompt

echo '
Heck yeah, activated!
Use this stuff:
  - build
  - run
  - spec
  - lint
  - console
'
